(()=>{"use strict";let t=[];window.addEventListener("load",(()=>{if(null===localStorage.getItem("todoList"))console.log("no todolist available in local storage"),t=[];else{let e=localStorage.getItem("todoList");t=JSON.parse(e)}}));class e{constructor(t="no title",e="no description",o="no due date",n="no priority",s="no notes for now",d,r=!1,a=Math.floor(1e7*Math.random())){this.title=t,this.description=e,this.dueDate=o,this.priority=n,this.notes=s,this.project=["Default"].concat(d),this.completionStatus=r,this.id=a}}const o=t=>{localStorage.setItem("todoList",JSON.stringify(t)),n()};document.querySelector(".newTodoForm").addEventListener("submit",(n=>{n.preventDefault(),console.log(t);let s=new e(n.target.newTodoTitle.value,n.target.newTodoDescription.value,n.target.newTodoDueDate.value,n.target.newTodoPriority.value,void 0,n.target.newTodoProject.value,!1);console.log(s),(e=>{t.push(e),o(t)})(s)}));const n=(document.querySelector(".todoListContainer"),()=>{document.querySelector(".todoListContainer").innerHTML="";let e=(()=>{let t=localStorage.getItem("todoList");return null===t?(console.log("no todolist available in local storage - retrievedTodoListFromLocalStorage()"),null):JSON.parse(t)})();const n=document.querySelector(".todoListContainer");if(null===e||e.length<=0){console.log("no todos in this list");const t=document.createElement("p");t.innerText="Congratulations, no toDos left!",t.classList.add("noTodosText"),n.append(t)}else e.forEach((e=>{n.append((e=>{const n=document.createElement("div");n.classList.add("todoItemCard"),n.append((t=>{const e=document.createElement("h1");return e.innerText=t,e.classList.add("todoTitle"),e})(e.title)),n.append((t=>{const e=document.createElement("p");return e.innerText=t,e.classList.add("todoDescription"),e})(e.description)),n.append((t=>{const e=document.createElement("p");return e.innerText=t,e.classList.add("todoDueDate"),e})(e.dueDate)),n.append((t=>{const e=document.createElement("p");return e.innerText=t,e.classList.add("todoPriority"),e})(e.priority)),n.append((t=>{const e=document.createElement("p");return e.innerText=t,e.classList.add("todoNotes"),e})(e.notes)),n.append((t=>{const e=document.createElement("p");return e.innerText=t,e.classList.add("todoProjects"),e})(e.project)),n.append((t=>{const e=document.createElement("p");return e.innerText=t,e.classList.add("todoCompletionStatus"),e.innerText=!0===t?"Completed":"Pending",e})(e.completionStatus)),n.append((()=>{const t=document.createElement("div");return t.classList.add("buttonsDiv"),t})());const s=n.querySelector(".buttonsDiv");return s.append((e=>{const n=document.createElement("button");return n.classList.add("toggleCompletionStatusButton"),!0===e.completionStatus?n.innerText="Mark as Pending":n.innerText="Mark as Completed",n.addEventListener("click",(()=>{console.log(e);const n=t.findIndex((t=>t.id===e.id)),s=!0!==e.completionStatus;t[n].completionStatus=s,o(t)})),n})(e)),s.append((e=>{const n=document.createElement("button");return n.classList.add("deleteTodoButton"),n.innerText="Delete Todo",n.addEventListener("click",(()=>{const n=t.findIndex((t=>t.id===e.id));t.splice(n,1),o(t)})),n})(e)),n})(e))}))});document.querySelector(".deleteAllTodosButton").addEventListener("click",(()=>{t=[],localStorage.removeItem("todoList"),n()})),n()})();